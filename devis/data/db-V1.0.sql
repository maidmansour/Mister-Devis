-- phpMyAdmin SQL Dump
-- version 3.4.5
-- http://www.phpmyadmin.net
--
-- Client: localhost
-- Généré le : Ven 17 Août 2012 à 12:31
-- Version du serveur: 5.1.61
-- Version de PHP: 5.3.3

SET FOREIGN_KEY_CHECKS=0;
SET SQL_MODE="NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

--
-- Base de données: `meuniertraiteur`
--

-- --------------------------------------------------------

--
-- Structure de la table `action`
--

CREATE TABLE IF NOT EXISTS `action` (
  `IDACTIONS` int(11) NOT NULL AUTO_INCREMENT,
  `NAMEACTION` varchar(100) DEFAULT NULL,
  `STATUSACTION` tinyint(1) DEFAULT NULL,
  `ICONACTION` varchar(50) DEFAULT NULL,
  `DATECREATEACTION` datetime DEFAULT NULL,
  `DATEUPDATEACTION` datetime DEFAULT NULL,
  PRIMARY KEY (`IDACTIONS`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=9 ;

-- --------------------------------------------------------

--
-- Structure de la table `category`
--

CREATE TABLE IF NOT EXISTS `category` (
  `IDCATEGORY` int(11) NOT NULL AUTO_INCREMENT,
  `CAT_IDCATEGORY` int(11) DEFAULT NULL,
  `NAMECATEGORY` varchar(100) DEFAULT NULL,
  `STATUSCATEGORY` tinyint(1) DEFAULT NULL,
  `ISDISCOUNTCATEGORY` tinyint(1) DEFAULT NULL,
  `POSITIONCATEGORY` int(11) DEFAULT NULL,
  `DISCOUNTCATEGORY` decimal(5,2) DEFAULT NULL,
  `TVACATEGORY` decimal(5,2) DEFAULT NULL,
  `DATEUPDATECATEGORY` datetime DEFAULT NULL,
  `DATECREATECATEGORY` datetime DEFAULT NULL,
  PRIMARY KEY (`IDCATEGORY`),
  KEY `FK_CATEGORYHASPARENT` (`CAT_IDCATEGORY`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=40 ;

-- --------------------------------------------------------

--
-- Structure de la table `categorypermission`
--

CREATE TABLE IF NOT EXISTS `categorypermission` (
  `IDCATEGORYPERMISSION` int(11) NOT NULL AUTO_INCREMENT,
  `CAT_IDCATEGORYPERMISSION` int(11) DEFAULT NULL,
  `NAMECATEGORYPERMISSION` varchar(250) NOT NULL,
  `STATUSCATEGORYPERMISSION` tinyint(1) DEFAULT NULL,
  `DATECREATECATEGORYPERMISSION` datetime NOT NULL,
  `DATEUPDATECATEGORYPERMISSION` datetime DEFAULT NULL,
  PRIMARY KEY (`IDCATEGORYPERMISSION`),
  KEY `FK_CATEGORYPERMISSIONSHASPARENT` (`CAT_IDCATEGORYPERMISSION`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=25 ;

-- --------------------------------------------------------

--
-- Structure de la table `categorypermissionhasaction`
--

CREATE TABLE IF NOT EXISTS `categorypermissionhasaction` (
  `IDACTIONS` int(11) NOT NULL,
  `IDCATEGORYPERMISSION` int(11) NOT NULL,
  PRIMARY KEY (`IDACTIONS`,`IDCATEGORYPERMISSION`),
  KEY `FK_CATEGORYPERMISSIONHASACTION2` (`IDCATEGORYPERMISSION`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Structure de la table `company`
--

CREATE TABLE IF NOT EXISTS `company` (
  `IDCOMPANY` int(11) NOT NULL AUTO_INCREMENT,
  `NOMCOMPANY` varchar(50) DEFAULT NULL,
  `ISADMINCOMPANY` tinyint(1) DEFAULT NULL,
  `HEADERCOMPANY` varchar(150) DEFAULT NULL,
  `IMGURICOMPANY` varchar(50) DEFAULT NULL,
  `STATUSCOMPANY` tinyint(1) DEFAULT NULL,
  `ADDRESSCOMPANY` varchar(250) DEFAULT NULL,
  `CITYCOMPANY` varchar(50) DEFAULT NULL,
  `ZIPCOMPNAY` varchar(10) DEFAULT NULL,
  `COUNTRYCOMPANY` varchar(50) DEFAULT NULL,
  `PHONECOMPANY` varchar(20) DEFAULT NULL,
  `MOBILECOMPANY` varchar(20) DEFAULT NULL,
  `FAXCOMPANY` varchar(20) DEFAULT NULL,
  `SIRETCOMPANY` varchar(30) DEFAULT NULL,
  `RCSCOMPANY` varchar(30) DEFAULT NULL,
  `TVAIFRCOMPANY` varchar(30) DEFAULT NULL,
  `DASCOMPANY` varchar(30) DEFAULT NULL,
  `APECOMPANY` varchar(20) DEFAULT NULL,
  `OTHERINFOCOMPANY` varchar(300) DEFAULT NULL,
  `DATECREATECOMPANY` datetime DEFAULT NULL,
  `DATEUPDATECOMPANY` datetime DEFAULT NULL,
  PRIMARY KEY (`IDCOMPANY`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=21 ;

-- --------------------------------------------------------

--
-- Structure de la table `configuration`
--

CREATE TABLE IF NOT EXISTS `configuration` (
  `IDCONFIGURATION` int(11) NOT NULL AUTO_INCREMENT,
  `NAMECONFIGURATION` varchar(100) NOT NULL,
  `VALUECONFIGURATION` varchar(250) NOT NULL,
  `DATECREATECONFIGURATION` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `DATEUPDATECONFIGURATION` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `ACTIVECONFIGURATION` tinyint(1) NOT NULL,
  PRIMARY KEY (`IDCONFIGURATION`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=3 ;

-- --------------------------------------------------------

--
-- Structure de la table `connections`
--

CREATE TABLE IF NOT EXISTS `connections` (
  `IDCONNECTION` int(11) NOT NULL AUTO_INCREMENT,
  `IDUSER` int(11) NOT NULL,
  `DATECONNECTION` datetime NOT NULL,
  `IPCONNECTION` varchar(50) NOT NULL,
  `BROWSERCONNECTION` varchar(100) DEFAULT NULL,
  `REQUESTURICONNECTION` text,
  `OSCONNECTION` varchar(100) DEFAULT NULL,
  `LANGCONNECTION` varchar(50) DEFAULT NULL,
  `REFERRERURICONNECTION` text,
  `GEOIPCOUNTRYCONNECTION` varchar(100) DEFAULT NULL,
  `GEOIPCITYCONNECTION` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`IDCONNECTION`),
  KEY `FK_USERHASCONNECTIONS` (`IDUSER`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=161 ;

-- --------------------------------------------------------

--
-- Structure de la table `contact`
--

CREATE TABLE IF NOT EXISTS `contact` (
  `IDCONTACT` int(11) NOT NULL AUTO_INCREMENT,
  `IDCOMPANY` int(11) DEFAULT NULL,
  `EMAILCONTACT` varchar(50) DEFAULT NULL,
  `STATUSCONTACT` tinyint(1) DEFAULT NULL,
  `FIRSTNAMECONTACT` varchar(100) DEFAULT NULL,
  `LASTNAMECONTACT` varchar(100) DEFAULT NULL,
  `POSTCONTACT` varchar(50) DEFAULT NULL,
  `PHONECONTACT` varchar(20) DEFAULT NULL,
  `MOBILECONTACT` varchar(20) DEFAULT NULL,
  `ADDRESSCONTACT` varchar(250) DEFAULT NULL,
  `CITYCONTACT` varchar(50) DEFAULT NULL,
  `ZIPCONTACT` varchar(10) DEFAULT NULL,
  `COUNTRYCONTACT` varchar(50) DEFAULT NULL,
  `DATECREATECONTACT` datetime DEFAULT NULL,
  `DATEUPDATECONTACT` datetime DEFAULT NULL,
  `FULLNAME` varchar(100) NOT NULL,
  PRIMARY KEY (`IDCONTACT`),
  KEY `FK_CUSTOMERHASCOMPANY` (`IDCOMPANY`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=43 ;

-- --------------------------------------------------------

--
-- Structure de la table `customerhasestimate`
--

CREATE TABLE IF NOT EXISTS `customerhasestimate` (
  `IDESTIMATE` int(11) NOT NULL,
  `IDCONTACT` int(11) NOT NULL,
  PRIMARY KEY (`IDESTIMATE`,`IDCONTACT`),
  KEY `FK_CUSTOMERHASESTIMATE2` (`IDCONTACT`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Structure de la table `estimate`
--

CREATE TABLE IF NOT EXISTS `estimate` (
  `IDESTIMATE` int(11) NOT NULL AUTO_INCREMENT,
  `IDUSER` int(11) NOT NULL,
  `TITLEESTIMATE` varchar(200) NOT NULL,
  `STATUSESTIMATE` tinyint(1) NOT NULL COMMENT 'Attente, Confirmé ou Soldé ',
  `TYPEESTIMATE` varchar(100) DEFAULT NULL COMMENT 'Devis ou facture',
  `ACCOMPTES1ESTIMATE` varchar(10) DEFAULT NULL,
  `ACCOMPTES2ESTIMATE` varchar(10) DEFAULT NULL,
  `ACCOMPTES3ESTIMATE` varchar(10) DEFAULT NULL,
  `CASHED1ESTIMATE` tinyint(1) DEFAULT NULL,
  `CASHED2ESTIMATE` tinyint(1) DEFAULT NULL,
  `CASHED3ESTIMATE` tinyint(1) DEFAULT NULL,
  `DISCOUNTESTIMATE` decimal(5,2) DEFAULT NULL,
  `OTHERINFOESTIMATE` varchar(300) DEFAULT NULL,
  `DATECREATEESTIMATE` datetime NOT NULL,
  `DATEUPDATEESTIMATE` datetime DEFAULT NULL,
  `ISBILLINGADDRESSSHOWESTIMATE` tinyint(1) NOT NULL,
  `BILLINGADDRESSESTIMATE` varchar(300) DEFAULT NULL,
  `ISDELEVERYADDRESSSHOWESTIMATE` tinyint(1) NOT NULL,
  `DELEVERYADDRESSESTIMATE` varchar(300) DEFAULT NULL,
  `ISCOMPANYHEADERSHOWESTIMATE` tinyint(1) NOT NULL,
  `COMPANYHEADERESTIMATE` varchar(300) DEFAULT NULL,
  `SCHEDULESARRIVETIMEESTIMATE` time DEFAULT NULL,
  `SCHEDULESSTARTTIMEESTIMATE` time DEFAULT NULL,
  `SCHEDULESENDTIMEESTIMATE` time DEFAULT NULL,
  `CONVIVESNUMBERESTIMATE` int(11) NOT NULL,
  `INTERNALNOTEESTIMATE` varchar(300) DEFAULT NULL,
  `DELIVERYDATEESTIMATE` datetime NOT NULL,
  `MODEESTIMATE` varchar(20) NOT NULL COMMENT 'Prestation ou Retrait labo',
  `TOTALEPRICEESTIMATE` decimal(10,2) NOT NULL,
  `ISSERVICEESTIMATE` tinyint(1) NOT NULL,
  `NAMECONTACTESTIMATE` varchar(60) NOT NULL,
  `FCPESTIMATE` text,
  PRIMARY KEY (`IDESTIMATE`),
  KEY `FK_USERHASESTIMATE` (`IDUSER`),
  KEY `BILLINGADDRESSESTIMATE` (`BILLINGADDRESSESTIMATE`(255))
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=438 ;

-- --------------------------------------------------------

--
-- Structure de la table `estimatecategory`
--

CREATE TABLE IF NOT EXISTS `estimatecategory` (
  `IDESTIMATECATEGORY` int(11) NOT NULL AUTO_INCREMENT,
  `NAMEESTIMATECATEGORY` varchar(250) NOT NULL,
  `POSITIONESTIMATECATEGORY` int(11) DEFAULT NULL,
  `DISCOUNTESTIMATECATEGORY` decimal(5,2) DEFAULT NULL,
  `TVAESTIMATECATEGORY` decimal(5,2) DEFAULT NULL,
  `ISDISCOUNTESTIMATECATEGORY` tinyint(1) DEFAULT NULL,
  `NAMEPARENTESTIMATECATEGORY` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`IDESTIMATECATEGORY`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=13530 ;

-- --------------------------------------------------------

--
-- Structure de la table `estimatecategoryproduct`
--

CREATE TABLE IF NOT EXISTS `estimatecategoryproduct` (
  `IDESTIMATECATEGORYPRODUCT` int(11) NOT NULL AUTO_INCREMENT,
  `IDPRODUCT` int(11) DEFAULT NULL,
  `IDESTIMATECATEGORY` int(11) DEFAULT NULL,
  `IDESTIMATEFORMULA` int(11) DEFAULT NULL,
  `NAMEESTIMATECATEGORYPRODUCT` varchar(100) DEFAULT NULL,
  `POSITIONESTIMATECATEGORYPRODUCT` int(11) DEFAULT NULL,
  `QUANTITYESTIMATECATEGORYPRODUCT` int(11) DEFAULT NULL,
  `PRICEESTIMATECATEGORYPRODUCT` decimal(11,2) DEFAULT NULL,
  `DISCOUNTESTIMATECATEGORYPRODUCT` decimal(5,2) DEFAULT NULL,
  `CUSTOMDISCOUNTESTIMATECATEGORYPRODUCT` decimal(5,2) DEFAULT NULL,
  `TVAESTIMATECATEGORYPRODUCT` decimal(5,2) DEFAULT NULL,
  `CUSTOMTVAESTIMATECATEGORYPRODUCT` decimal(5,2) DEFAULT NULL,
  `TASTEESTIMATECATEGORYPRODUCT` varchar(20) DEFAULT NULL,
  `UNITESTIMATECATEGORYPRODUCT` varchar(20) DEFAULT NULL,
  PRIMARY KEY (`IDESTIMATECATEGORYPRODUCT`),
  KEY `FK_ESTIMATECATEGORYHASPRODUCT` (`IDESTIMATECATEGORY`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=29018 ;

-- --------------------------------------------------------

--
-- Structure de la table `estimateformula`
--

CREATE TABLE IF NOT EXISTS `estimateformula` (
  `IDESTIMATEFORMULA` int(11) NOT NULL AUTO_INCREMENT,
  `NAMEESTIMATEFORMULA` varchar(100) NOT NULL,
  `QUANTIYESTIMATEFORMULA` int(11) NOT NULL,
  `PRICEESTIMATEFORMULA` decimal(5,0) NOT NULL,
  PRIMARY KEY (`IDESTIMATEFORMULA`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Structure de la table `estimatehasestimatecategory`
--

CREATE TABLE IF NOT EXISTS `estimatehasestimatecategory` (
  `IDESTIMATECATEGORY` int(11) NOT NULL,
  `IDESTIMATE` int(11) NOT NULL,
  PRIMARY KEY (`IDESTIMATECATEGORY`,`IDESTIMATE`),
  KEY `FK_ESTIMATEHASESTIMATECATEGORY2` (`IDESTIMATE`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Structure de la table `estimatehasformula`
--

CREATE TABLE IF NOT EXISTS `estimatehasformula` (
  `IDESTIMATE` int(11) NOT NULL,
  `IDFORMULA` int(11) NOT NULL,
  PRIMARY KEY (`IDESTIMATE`,`IDFORMULA`),
  KEY `FK_ESTIMATEHASFORMULA2` (`IDFORMULA`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Structure de la table `formula`
--

CREATE TABLE IF NOT EXISTS `formula` (
  `IDFORMULA` int(11) NOT NULL AUTO_INCREMENT,
  `NAMEFORMULA` varchar(100) NOT NULL,
  `QUANTITYFORMULA` int(11) DEFAULT NULL,
  `PRICEFORMULA` decimal(10,2) DEFAULT NULL,
  `STATUSFORMULA` tinyint(1) DEFAULT NULL,
  `POSITIONFORMULA` int(11) DEFAULT NULL,
  `DESCRIPTIONFORMULA` varchar(100) DEFAULT NULL,
  `DATECREATEFORMULA` datetime DEFAULT NULL,
  `DATEUPDATEFORMULA` datetime DEFAULT NULL,
  PRIMARY KEY (`IDFORMULA`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=56 ;

-- --------------------------------------------------------

--
-- Structure de la table `formulehasproduct`
--

CREATE TABLE IF NOT EXISTS `formulehasproduct` (
  `IDPRODUCT` int(11) NOT NULL,
  `IDFORMULA` int(11) NOT NULL,
  PRIMARY KEY (`IDPRODUCT`,`IDFORMULA`),
  KEY `FK_FORMULEHASPRODUCT2` (`IDFORMULA`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Structure de la table `product`
--

CREATE TABLE IF NOT EXISTS `product` (
  `IDPRODUCT` int(11) NOT NULL AUTO_INCREMENT,
  `IDCATEGORY` int(11) DEFAULT NULL,
  `NAMEPRODUCT` varchar(200) NOT NULL,
  `STATUSPRODUCT` tinyint(1) NOT NULL,
  `POSITIONPRODUCT` int(11) DEFAULT NULL,
  `TASTEPRODUCT` varchar(20) DEFAULT NULL,
  `UNITPRODUCT` varchar(20) DEFAULT NULL,
  `UNITPRICEPRODUCT` decimal(11,2) DEFAULT NULL,
  `TVAPRODUCT` decimal(5,2) DEFAULT NULL,
  `DESCRIPTIONPRODUCT` text,
  `DISCOUNTPRODUCT` decimal(5,2) DEFAULT NULL,
  `QUANTITYPRODUCT` decimal(4,0) DEFAULT NULL,
  `DATEUPDATEPRODUCT` datetime DEFAULT NULL,
  `DATECREATEPRODUCT` datetime DEFAULT NULL,
  PRIMARY KEY (`IDPRODUCT`),
  KEY `FK_PRODUCTHASCATEGORY` (`IDCATEGORY`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=571 ;

-- --------------------------------------------------------

--
-- Structure de la table `user`
--

CREATE TABLE IF NOT EXISTS `user` (
  `IDUSER` int(11) NOT NULL AUTO_INCREMENT,
  `IDGROUP` int(11) NOT NULL,
  `EMAILUSER` varchar(50) NOT NULL,
  `PWDUSER` varchar(200) NOT NULL,
  `STATUSUSER` tinyint(1) DEFAULT NULL,
  `FIRSTNAMEUSER` varchar(100) NOT NULL,
  `LASTNAMEUSER` varchar(100) DEFAULT NULL,
  `ADDRESS1USER` varchar(250) DEFAULT NULL,
  `ADDRESS2USER` varchar(250) DEFAULT NULL,
  `MOBILEUSER` varchar(100) DEFAULT NULL,
  `PHONEUSER` varchar(100) DEFAULT NULL,
  `ZIPUSER` varchar(10) DEFAULT NULL,
  `CITYUSER` char(100) DEFAULT NULL,
  `COUNTRYUSER` char(100) DEFAULT NULL,
  `DATECREATEUSER` datetime DEFAULT NULL,
  `DATEUPDATEUSER` datetime DEFAULT NULL,
  PRIMARY KEY (`IDUSER`),
  KEY `FK_USERGROUPHASUSER` (`IDGROUP`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=19 ;

-- --------------------------------------------------------

--
-- Structure de la table `usergroup`
--

CREATE TABLE IF NOT EXISTS `usergroup` (
  `IDGROUP` int(11) NOT NULL AUTO_INCREMENT,
  `NAMEGROUP` varchar(200) NOT NULL,
  `STATUSGROUP` tinyint(1) DEFAULT NULL,
  `DATECREATEGROUP` datetime NOT NULL,
  `DATEUPDATEGROUP` datetime DEFAULT NULL,
  `ACTIVEGROUP` tinyint(1) NOT NULL,
  PRIMARY KEY (`IDGROUP`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=12 ;

-- --------------------------------------------------------

--
-- Structure de la table `usergrouphascategorypermission`
--

CREATE TABLE IF NOT EXISTS `usergrouphascategorypermission` (
  `IDGROUP` int(11) NOT NULL,
  `IDCATEGORYPERMISSION` int(11) NOT NULL,
  `IDACTIONS` int(11) NOT NULL,
  PRIMARY KEY (`IDGROUP`,`IDCATEGORYPERMISSION`,`IDACTIONS`),
  KEY `FK_USERGROUPHASCATEGORYPERMISSION2` (`IDCATEGORYPERMISSION`),
  KEY `IDACTIONS` (`IDACTIONS`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Contraintes pour les tables exportées
--

--
-- Contraintes pour la table `category`
--
ALTER TABLE `category`
  ADD CONSTRAINT `FK_CATEGORYHASPARENT` FOREIGN KEY (`CAT_IDCATEGORY`) REFERENCES `category` (`IDCATEGORY`);

--
-- Contraintes pour la table `categorypermission`
--
ALTER TABLE `categorypermission`
  ADD CONSTRAINT `FK_CATEGORYPERMISSIONSHASPARENT` FOREIGN KEY (`CAT_IDCATEGORYPERMISSION`) REFERENCES `categorypermission` (`IDCATEGORYPERMISSION`);

--
-- Contraintes pour la table `categorypermissionhasaction`
--
ALTER TABLE `categorypermissionhasaction`
  ADD CONSTRAINT `FK_CATEGORYPERMISSIONHASACTION` FOREIGN KEY (`IDACTIONS`) REFERENCES `action` (`IDACTIONS`),
  ADD CONSTRAINT `FK_CATEGORYPERMISSIONHASACTION2` FOREIGN KEY (`IDCATEGORYPERMISSION`) REFERENCES `categorypermission` (`IDCATEGORYPERMISSION`);

--
-- Contraintes pour la table `connections`
--
ALTER TABLE `connections`
  ADD CONSTRAINT `FK_USERHASCONNECTIONS` FOREIGN KEY (`IDUSER`) REFERENCES `user` (`IDUSER`);

--
-- Contraintes pour la table `contact`
--
ALTER TABLE `contact`
  ADD CONSTRAINT `FK_CUSTOMERHASCOMPANY` FOREIGN KEY (`IDCOMPANY`) REFERENCES `company` (`IDCOMPANY`);

--
-- Contraintes pour la table `customerhasestimate`
--
ALTER TABLE `customerhasestimate`
  ADD CONSTRAINT `FK_CUSTOMERHASESTIMATE` FOREIGN KEY (`IDESTIMATE`) REFERENCES `estimate` (`IDESTIMATE`),
  ADD CONSTRAINT `FK_CUSTOMERHASESTIMATE2` FOREIGN KEY (`IDCONTACT`) REFERENCES `contact` (`IDCONTACT`);

--
-- Contraintes pour la table `estimate`
--
ALTER TABLE `estimate`
  ADD CONSTRAINT `FK_USERHASESTIMATE` FOREIGN KEY (`IDUSER`) REFERENCES `user` (`IDUSER`);

--
-- Contraintes pour la table `estimatecategoryproduct`
--
ALTER TABLE `estimatecategoryproduct`
  ADD CONSTRAINT `FK_ESTIMATECATEGORYHASPRODUCT` FOREIGN KEY (`IDESTIMATECATEGORY`) REFERENCES `estimatecategory` (`IDESTIMATECATEGORY`);

--
-- Contraintes pour la table `estimatehasestimatecategory`
--
ALTER TABLE `estimatehasestimatecategory`
  ADD CONSTRAINT `FK_ESTIMATEHASESTIMATECATEGORY` FOREIGN KEY (`IDESTIMATECATEGORY`) REFERENCES `estimatecategory` (`IDESTIMATECATEGORY`),
  ADD CONSTRAINT `FK_ESTIMATEHASESTIMATECATEGORY2` FOREIGN KEY (`IDESTIMATE`) REFERENCES `estimate` (`IDESTIMATE`);

--
-- Contraintes pour la table `estimatehasformula`
--
ALTER TABLE `estimatehasformula`
  ADD CONSTRAINT `FK_ESTIMATEHASFORMULA` FOREIGN KEY (`IDESTIMATE`) REFERENCES `estimate` (`IDESTIMATE`),
  ADD CONSTRAINT `FK_ESTIMATEHASFORMULA2` FOREIGN KEY (`IDFORMULA`) REFERENCES `formula` (`IDFORMULA`);

--
-- Contraintes pour la table `formulehasproduct`
--
ALTER TABLE `formulehasproduct`
  ADD CONSTRAINT `FK_FORMULEHASPRODUCT` FOREIGN KEY (`IDPRODUCT`) REFERENCES `product` (`IDPRODUCT`),
  ADD CONSTRAINT `FK_FORMULEHASPRODUCT2` FOREIGN KEY (`IDFORMULA`) REFERENCES `formula` (`IDFORMULA`);

--
-- Contraintes pour la table `product`
--
ALTER TABLE `product`
  ADD CONSTRAINT `FK_PRODUCTHASCATEGORY` FOREIGN KEY (`IDCATEGORY`) REFERENCES `category` (`IDCATEGORY`);

--
-- Contraintes pour la table `user`
--
ALTER TABLE `user`
  ADD CONSTRAINT `FK_USERGROUPHASUSER` FOREIGN KEY (`IDGROUP`) REFERENCES `usergroup` (`IDGROUP`);

--
-- Contraintes pour la table `usergrouphascategorypermission`
--
ALTER TABLE `usergrouphascategorypermission`
  ADD CONSTRAINT `usergrouphascategorypermission_ibfk_3` FOREIGN KEY (`IDGROUP`) REFERENCES `usergroup` (`IDGROUP`),
  ADD CONSTRAINT `usergrouphascategorypermission_ibfk_4` FOREIGN KEY (`IDCATEGORYPERMISSION`) REFERENCES `categorypermission` (`IDCATEGORYPERMISSION`),
  ADD CONSTRAINT `usergrouphascategorypermission_ibfk_5` FOREIGN KEY (`IDACTIONS`) REFERENCES `action` (`IDACTIONS`);
SET FOREIGN_KEY_CHECKS=1;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
